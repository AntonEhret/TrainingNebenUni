(window.webpackJsonp=window.webpackJsonp||[]).push([["ud-prosemirror"],{"./src/udemy/js/ud-prosemirror/index.js":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"RichTextSerializer",(function(){return u})),r.d(n,"PlainTextSerializer",(function(){return l})),r.d(n,"overrideDoc",(function(){return d})),r.d(n,"selectBetween",(function(){return f})),r.d(n,"setCursorAndFocus",(function(){return p})),r.d(n,"isMarkActive",(function(){return m})),r.d(n,"getAnchorSelectionRange",(function(){return h})),r.d(n,"parseAnchorForm",(function(){return g})),r.d(n,"parseImageEditor",(function(){return O})),r.d(n,"getCodeBlockRange",(function(){return E})),r.d(n,"isSelectionInCodeBlock",(function(){return _})),r.d(n,"getTextWithNormalizedNewlines",(function(){return v})),r.d(n,"getTextWithNormalizedNewlinesFromDOMNode",(function(){return A})),r.d(n,"parseTextDirection",(function(){return T})),r.d(n,"applyHackToPreserveEmptyLines",(function(){return b})),r.d(n,"applyHackToPreserveWhitespace",(function(){return S}));var o=r("./node_modules/prosemirror-model/dist/index.js"),i=r("./node_modules/prosemirror-state/dist/index.js"),a=r("./src/udemy/js/base-components/rich-text-editor/constants.js"),c=r("./src/udemy/js/base-components/rich-text-editor/helpers.js");function s(e,t){var r=o.DOMParser.fromSchema(e);return r.parseSlice=function(t,r){var n=o.DOMParser.prototype.parseSlice.call(this,t,r),i=n.content;return n.content.forEach((function(t,r,n){if(t.type===e.nodes.hard_break){var o=e.nodes.paragraph.create();i=i.replaceChild(n,o)}})),o.Slice.maxOpen(i)},r.parseClipboardText=function(e,t){var n=Object(c.a)().createElement("div");return e.split(/\r\n?|\n/).forEach((function(e){var t=Object(c.a)().createElement("p");t.textContent=e,n.appendChild(t)})),r.parseSlice(n,{preserveWhitespace:!0,context:t})},r.transformPastedHTML=function(r){var n=Object(c.a)().createElement("div");if(n.innerHTML=r,"PLAIN_TEXT"===t){var o=A(n);n.innerHTML=o.split("\n").map((function(e){var t=Object(c.a)().createElement("p");return t.style.whiteSpace="pre",t.textContent=e,t.outerHTML})).join("")}else{var i=!!e.nodes.code_block,a=function(e,t){var r=e.parentNode;t.split("\n").forEach((function(t){var n=Object(c.a)().createElement("p");n.style.whiteSpace="pre",n.textContent=t,r.insertBefore(n,e)})),r.removeChild(e)};Array.from(n.querySelectorAll("pre")).forEach((function(e){var t=A(e);e.textContent=t,i||a(e,t)})),Array.from(n.querySelectorAll("div")).filter((function(e){return"pre"===e.style.whiteSpace})).forEach((function(e){var t=A(e);i?function(e,t){var r=Object(c.a)().createElement("pre");r.textContent=t,e.parentNode.replaceChild(r,e)}(e,t):a(e,t)}))}return n.innerHTML},r}var u=function(){function e(t,r){babelHelpers.classCallCheck(this,e),this.fromDOMSerializer=s(t,this.mode),this.toDOMSerializer=function(e){var t=o.DOMSerializer.fromSchema(e);return t.serializeNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("code_block"===e.type.name)return o.DOMSerializer.prototype.serializeNode.call(this,e,babelHelpers.objectSpread({},t,{skipPreserveWhitespaceHack:!0}));e.isText&&!t.skipPreserveWhitespaceHack&&(e=S(e));var r=o.DOMSerializer.prototype.serializeNode.call(this,e,t);return"paragraph"===e.type.name&&0===e.childCount?b(r):r},t}(t),this.parseOptions=r}return babelHelpers.createClass(e,[{key:"toInternalValue",value:function(e){var t=Object(c.a)().createElement("div");return t.innerHTML=e,this.fromDOMSerializer.parse(t,this.parseOptions)}},{key:"toText",value:function(e){if(e.content.size<=a.c)return"";var t=this.toDOMSerializer.serializeFragment(e.content),r=Object(c.a)().createElement("div");return r.appendChild(t),r.innerHTML}},{key:"mode",get:function(){return"RICH_TEXT"}}]),e}(),l=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"toText",value:function(e){if(e.content.size<=a.c)return"";for(var t=this.toDOMSerializer.serializeFragment(e.content),r=[],n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];r.push(o.textContent)}return r.join("\n")}},{key:"mode",get:function(){return"PLAIN_TEXT"}}]),t}(u);function d(e,t){e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,t)),e.dom.scrollTop=e.dom.scrollHeight}function f(e,t,r,n){var o;if(0===r&&n===t.content.size)o=new i.AllSelection(t);else{var a=t.resolve(r),c=r===n?a:t.resolve(n);o=i.TextSelection.between(a,c)}return e.setSelection(o)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.state.doc.content.size,e.dom.scrollTop=e.dom.scrollHeight),e.dispatch(f(e.state.tr,e.state.doc,t,t).scrollIntoView()),e.focus()}function m(e,t){var r=e.selection;if(r.empty)return!!t.isInSet(e.storedMarks||r.$from.marks());var n=!0,o=!1;return e.doc.nodesBetween(r.from,r.to,(function(e){return e.isText&&(o=!0,t.isInSet(e.marks)||(n=!1)),n})),o&&n}function h(e){var t=e.selection;if(t.empty){var r=t.$cursor,n=r.pos,o=n-r.parentOffset,i=o+r.parent.content.size,a=null;if(e.doc.nodesBetween(o,i,(function(t,r){if(e.schema.marks.link.isInSet(t.marks)){var o=r,i=r+t.nodeSize;a&&a.to===o?a.to=i:n>=o&&n<=i&&(a={from:o,to:i})}})),a)return a}return{from:t.from,to:t.to}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{parseFormData:!0},r=h(e),n=e.doc.rangeHasMark(r.from,r.to,e.schema.marks.link),o={text:"",href:"",hasAnchor:n};if(t.parseFormData&&(o.text=e.doc.textBetween(r.from,r.to),n)){var i=null;e.doc.nodesBetween(r.from,r.to,(function(t){return i||(i=t.marks.find((function(t){return t.type===e.schema.marks.link}))),!i})),i&&(o.href=i.attrs.href||"")}return o}function O(e,t){var r=e.doc.resolve(t),n=r.nodeAfter,o=n.marks.find((function(t){return t.type===e.schema.marks.link})),i=r.parent,a=t-r.parentOffset-1,c=i.type===e.schema.nodes.figure?i:null,s=c?a:null,u=t+n.nodeSize,l=e.doc.nodeAt(u),d=null,f=null;l&&l.isText&&(l.marks.some((function(t){return t.type===e.schema.marks.figcaption}))&&(d=l,f=u));return{image:n,imagePos:t,link:o,figure:c,figurePos:s,caption:d,captionPos:f}}function E(e,t){var r=t.$from,n=t.$to;t instanceof i.AllSelection&&e.content.size>a.c&&(r=e.resolve(1),n=e.resolve(e.content.size-1));var o=r.blockRange(n);return o.$from.parent.type.spec.code?{node:o.$from.parent,pos:o.$from.pos-o.$from.parentOffset-1}:null}function _(e,t){return!!E(e,t)}function v(e,t){var r=[],n=!1;return e.descendants((function(e){e.isBlock&&n&&r.push("\n"),e.isBlock&&(n=!0),e.isText&&r.push(e.text),e.type===t.nodes.hard_break&&r.push("\n")})),r.join("")}function A(e){return e.innerHTML=e.innerHTML.replace(/<br\s*\/?>/g,"\n"),Array.from(e.querySelectorAll("div")).filter((function(e){return!e.querySelector("div")&&!!e.nextSibling})).forEach((function(e){e.textContent="".concat(e.textContent,"\n")})),e.textContent}function T(e){var t=(e.style.direction||"").toLowerCase().replace("!important","").trim(),r=(e.dir||"").toLowerCase();return"rtl"===(t||r)?"rtl":""}function b(e){return e.appendChild(Object(c.a)().createElement("br")),e}function S(e){return e.withText(e.textContent.replace(/ +/g,(function(e){if(1===e.length)return" ";for(var t=[],r=0;r<e.length;r++)r%2==0?t.push(" "):t.push(" ");return t.join("")})))}var M=r("./node_modules/prosemirror-view/dist/index.js"),k=r("./node_modules/prosemirror-commands/dist/commands.js"),I=r("./node_modules/prosemirror-history/dist/history.js"),D=r("./node_modules/prosemirror-schema-list/dist/schema-list.js");function R(e,t,r){var n,o,i,c,s=t.marks,u=t.nodes,l=(n=Object(k.toggleMark)(s.code),function(e,t,r){var o=e.selection,i=e.schema.nodes.code_block,c=_(e.doc,o),s=v(e.doc.slice(o.from,o.to).content,e.schema),u=s.split("\n");if(!c&&u.length<=1){var l=n(e,t,r);if(l&&t){var d=e.doc.content.size===a.c,p=(e=r.state).doc.content.size-1;!d&&o.to>=p&&m(e,e.schema.marks.code)&&t(e.tr.insert(p,e.schema.text(" ",[])))}return l}var h,g=e.schema.nodes.paragraph,O=e.schema.nodes.hard_break;if(c)h=u.map((function(t){var r=t?e.schema.text(t):null;return g.create({},r)}));else{var E=s?e.schema.text(s):null;h=[i.create({},E)]}if(0===h.reduce((function(e,t){return e+t.content.size}),0))return!1;if(t){var A=e.tr.replaceWith(o.from,o.to,h),T=[],b="BEFORE_CONTENT";A.doc.nodesBetween(A.mapping.map(o.from),A.mapping.map(o.to),(function(e,t){if("BEFORE_CONTENT"===b&&e===h[0]&&(b="IN_CONTENT"),e.isBlock)if(0===e.content.size&&"IN_CONTENT"!==b)T.push([t,t+e.nodeSize]);else if(e.content.size>0&&e.firstChild.type===O&&"AFTER_CONTENT"===b){var r=t+1,n=r+e.firstChild.nodeSize;T.push([r,n])}else if(e.content.size>0&&e.lastChild.type===O&&"BEFORE_CONTENT"===b){var o=t+e.content.size,i=o+e.lastChild.nodeSize;T.push([o,i])}"IN_CONTENT"===b&&e===h[h.length-1]&&(b="AFTER_CONTENT")})),T.reverse().forEach((function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],n=t[1];A=A.deleteRange(r,n)}));var S=A.mapping.map(o.from)+1,M=A.mapping.map(o.to)-1;t(A=f(A,A.doc,S,M))}return!0}),d=function(e,t){return function(r,n,o){var i=r.schema.nodes.blockquote,a=r.schema.nodes.code_block;y(r,n)&&(r=o.state);var c=r.selection;i&&(!c.$from.blockRange(c.$to,(function(e){return e.type===i}))||Object(k.lift)(r,n)&&(r=o.state));if(a){var s=E(r.doc,c);if(s){if(n){var u=s.pos+s.node.nodeSize-1;n(f(r.tr,r.doc,s.pos,u)),r=o.state}t(r,n,o)&&(r=o.state)}}return e(r,n)}}(Object(k.setBlockType)(u.paragraph),l),p=Object(D.wrapInList)(u.bullet_list),h=Object(D.wrapInList)(u.ordered_list),g=Object(D.liftListItem)(u.list_item),O={};return Object.entries({UNDO:I.undo,REDO:I.redo,UNDO_FORMAT:(c=["strong","em","code"],function(e,t){if(t){var r=e.selection,n=e.tr;c.forEach((function(t){var o=e.schema.marks[t];o&&(n=n.removeMark(r.from,r.to,o))})),t(n)}return!0}),ADD_HARD_BREAK:Object(k.chainCommands)(k.exitCode,(function(e,t){if(t){var r=e.schema.nodes.hard_break.create();t(e.tr.replaceSelectionWith(r))}return!0})),ADD_NON_BREAKING_SPACE:function(e,t){t&&t(e.tr.insertText(" "));return!0},TOGGLE_STRONG:Object(k.toggleMark)(s.strong),TOGGLE_EM:Object(k.toggleMark)(s.em),SET_PARAGRAPH:d,TOGGLE_BLOCKQUOTE:(o=u.blockquote,i=Object(k.wrapIn)(o),function(e,t,r){y(e,t)&&(e=r.state);var n=e.selection,a=!!n.$from.blockRange(n.$to,(function(e){return e.type===o}));return a?Object(k.lift)(e,t):i(e,t)}),TOGGLE_HEADING:C(Object(k.setBlockType)(u.heading),d),PROMPT_ANCHOR:N(r),ADD_ANCHOR:w(r),UNDO_ANCHOR:G(r),PROMPT_IMAGE_UPLOAD:j(r),PROMPT_IMAGE_EDIT:H(r),ADD_IMAGE:x(r),EDIT_IMAGE:P(r),CLICK_IMAGE:F(r),RESIZE_IMAGE:B(r),DELETE_FIGURE:function(e,t){var r=e.schema.nodes.figure,n=e.schema.nodes.image,o=e.selection,i=o.$from.parent;if(i.type===r&&i===o.$to.parent){var a=!1;if(i.descendants((function(e){return e.type===n&&(a=!0),!a})),!a){var c=o.$from.pos-o.$from.parentOffset-1,s=c+i.nodeSize;if(t){var u=e.schema.nodes.paragraph,l=e.schema.marks.figcaption,d=e.tr.setBlockType(c,s,u,{});d=d.removeMark(c,s,l),t(d)}return!0}}return!1},DELETE_IMAGE:W(r),EXIT_FIGURE:function(e,t){var r=e.selection.$cursor,n=e.schema.nodes.figure;if(!r||!r.parent||r.parent.type!==n)return!1;var o=e.schema.nodes.image,i=e.schema.marks.figcaption,a=r.parent,c=r.pos-r.parentOffset-1,s=c+a.nodeSize,u=null;if(e.doc.nodesBetween(c,s,(function(t,r){return t.type===o&&(u=e.doc.resolve(r)),!u})),!u)return!1;var l,d,p,m,h=u.pos,g=u.pos+u.nodeAfter.nodeSize;if(c<=r.pos&&r.pos<=h)l=c+1,d=r.pos,m=(p=c)+(d-l)+1;else{if(!(g<=r.pos&&r.pos<=s))return!1;l=r.pos,d=s-1,p=r.pos+1,m=p}if(t){var O=e.doc.slice(l,d),E=e.schema.nodes.paragraph.create({},O.content),_=e.tr.delete(l,d);_=f(_=(_=_.insert(p,E)).removeMark(p,p+E.nodeSize,i),_.doc,m,m),t(_)}return!0},ARROW_UP_NEAR_IMAGE:U("ArrowUp"),ARROW_LEFT_NEAR_IMAGE:U("ArrowLeft"),ARROW_DOWN_NEAR_IMAGE:U("ArrowDown"),ARROW_RIGHT_NEAR_IMAGE:U("ArrowRight"),WRAP_ORDERED_LIST:h,TOGGLE_ORDERED_LIST:L(u.ordered_list,h,z(g,u.ordered_list)),WRAP_BULLET_LIST:p,TOGGLE_BULLET_LIST:L(u.bullet_list,p,z(g,u.bullet_list)),LIFT_LIST_ITEM:g,SINK_LIST_ITEM:Object(D.sinkListItem)(u.list_item),SPLIT_LIST_ITEM:Object(D.splitListItem)(u.list_item),TOGGLE_CODE:l,CONVERT_TAB_TO_SPACES:function(e,t){var r=e.selection;if(_(e.doc,r)&&t)return t(e.tr.insertText("    ")),!0;return!1},EXIT_FIRST_BLOCK:function(e,t){var r=[e.schema.nodes.blockquote,e.schema.nodes.code_block],n=e.selection.$cursor,o=e.doc.firstChild;if(n&&n.pos-n.depth==0&&o&&r.includes(o.type)){if(t){var i=e.schema.nodes.paragraph.create(),a=e.tr.insert(0,i);t(f(a,a.doc,1,1))}return!0}return!1},EXIT_LAST_BLOCK:function(e,t){var r=[e.schema.nodes.blockquote,e.schema.nodes.code_block],n=e.selection.$cursor,o=e.doc.lastChild,i=e.doc.content.size;if(n&&n.pos+n.depth===i&&o&&r.includes(o.type)){if(t){var a=i,c=e.schema.nodes.paragraph.create(),s=e.tr.insert(a,c);t(f(s,s.doc,a+1,a+1))}return!0}return!1},TOGGLE_HTML_MODE:$(r)}).forEach((function(t){var r=babelHelpers.slicedToArray(t,2),n=r[0],o=r[1];e.has(n)&&(O[n]=o)})),O}function C(e,t){return function(r,n,o){return!!e(r,n,o)||t(r,n,o)}}function L(e,t,r){var n=C(t,r),o=C(r,t);return function(e,t,r){var i=e.selection,a=0;return i.from<i.to&&e.doc.nodesBetween(i.from,i.to,(function(){return(a+=1)<=1})),a>1?o(e,t,r):n(e,t,r)}}function y(e,t){var r=e.selection,n=r.$from,o=r.$to;return r instanceof i.AllSelection&&e.doc.content.size>a.c&&(n=e.doc.resolve(1),o=e.doc.resolve(e.doc.content.size-1),t&&t(f(e.tr,e.doc,n.pos,o.pos)),!0)}function N(e){return function(t,r){if(r){if(e.anchorForm.isEditing){var n=h(t);r(f(t.tr,t.doc,n.from,n.to))}e.openAnchorModal(t)}return!0}}function w(e){return function(t,r){var n=e.anchorForm;if(!n.isValid({commit:!!r}))return!1;if(r){var o=t.schema.marks.link,i=[o.create({href:n.data.href})];Object.values(t.schema.marks).filter((function(e){return e!==o&&m(t,e)})).forEach((function(e){i.push(e.create())}));var a=t.schema.text(n.data.text,i);r(t.tr.replaceSelectionWith(a,!1)),e.closeModal()}return!0}}function G(e){return function(t,r){if(r){var n=h(t),o=t.schema.marks.link;r(t.tr.removeMark(n.from,n.to,o)),e.hideAnchorTooltip()}return!0}}function z(e,t){return function(r,n){if(e(r,n))return!0;var o=r.selection,i=null,a=null,c=null;return r.doc.nodesBetween(o.from,o.to,(function(e,r){return e.type!==t||i||(a=r+1,c=r+(i=e).content.size),!i})),!!(i&&a<c)&&(r=r.apply(f(r.tr,r.doc,a,c)),e(r,n))}}function j(e){return function(t,r){return r&&e.openImageUploadModal(t),!0}}function H(e){return function(t,r){return r&&e.openImageEditModal(t),!0}}function x(e){return function(t,r){if(r){var n=t.schema.nodes.figure,i=t.schema.nodes.image,a=e.imageUploader,c=[];a.files.filter((function(e){return!!e.url})).forEach((function(e){var t=i.createAndFill({src:e.url}),r=n.create({},[t],[]);c.push(r)}));var s=new o.Slice(o.Fragment.from(c),0,0);r(t.tr.replaceSelection(s)),a.resetFiles(),a.hasError||e.closeModal()}return!0}}function P(e){return function(t,r){var n=e.activeImageEditor;if(!n)return!1;var o=e.imageEditForm;if(!o.isValid({commit:!!r}))return!1;if(r){var i,a=t.tr,c=n.getPos(),s=O(t,c),u=s.figure,l=s.image,d=s.caption,p=s.captionPos,m=c+l.nodeSize,h=function(e,t,r){var n=[];return r.data.href&&n.push(e.mark(e.marks.link,{href:r.data.href})),e.nodes.image.createAndFill(babelHelpers.objectSpread({},t.attrs,{alt:r.data.alt}),t.content,n)}(t.schema,l,o);if(a=a.replaceWith(c,m,h),o.data.caption){var g=t.schema.mark(t.schema.marks.figcaption),E=t.schema.text(o.data.caption,[g]);if(u)a=d?a.replaceWith(p,p+d.nodeSize,E):a.insert(m,E),i=m+E.nodeSize;else{var _=[h,E],v=t.schema.nodes.figure.create({},_,[]);a=a.replaceWith(c,m,v),i=m+E.nodeSize+2}a=f(a,a.doc,i,i)}else d?(i=m,a=f(a=a.delete(p,p+d.nodeSize),a.doc,i,i)):(i=m,a=f(a,a.doc,i,i));r(a),e.closeModal()}return!0}}function B(e){return function(t,r){var n=e.activeImageEditor;if(!n)return!1;if(!e.imageEditForm.isValid({commit:!!r}))return!1;if(r){var o=n.getPos(),i=t.doc.nodeAt(o),a=o+i.nodeSize,c=t.schema.nodes.image.createAndFill(babelHelpers.objectSpread({},i.attrs,{width:e.imageEditForm.data.width,height:e.imageEditForm.data.height}),i.content,i.marks),s=t.tr.replaceWith(o,a,c);r(s=f(s,s.doc,a,a))}return!0}}function F(e){return function(t,r){var n=e.activeImageEditor;if(!n)return!1;if(r){var o=n.getPos()+1;r(f(t.tr,t.doc,o,o))}return!0}}function W(e){return function(t,r){var n=e.activeImageEditor;if(!n)return!1;if(r){var o,i=n.getPos(),a=i+t.doc.nodeAt(i).nodeSize,c=t.doc.resolve(i),s=c.parent,u=t.tr;if(s.type===t.schema.nodes.figure){var l=i-c.parentOffset,d=l+s.content.size;u=u.deleteRange(l,d),o=l-1}else u=u.deleteRange(i,a),o=i-1;r(f(u,u.doc,o,o)),e.closeModal()}return!0}}function U(e){return function(t,r){var n=t.selection.$cursor,o=t.schema.nodes.image;if(!n)return!1;var i=n.pos,a=n.parent,c=n.parentOffset,s=n.nodeBefore,u=n.nodeAfter,l=!!u&&u.type===o,d=!!s&&s.type===o;if(!l&&!d)return!1;var p=t.doc.resolve(Math.max(i-c-1,0)),m=null;return"ArrowUp"===e?p.nodeBefore?m=p.pos-1:s&&(m=p.pos):l&&"ArrowLeft"===e?s?m=i-1:p.nodeBefore&&(m=p.pos-1):d&&"ArrowLeft"===e?m=i-1:"ArrowDown"===e?p.nodeAfter&&(m=p.pos+a.nodeSize):d&&"ArrowRight"===e?u?m=i+1:p.nodeAfter&&(m=p.pos+a.nodeSize):l&&"ArrowRight"===e&&(m=i+1),r&&null!==m&&m!==i&&r(f(t.tr,t.doc,m,m)),!0}}function $(e){return function(t,r){return r&&e.toggleHTMLMode(),!0}}var K=r("./node_modules/prosemirror-keymap/dist/keymap.js"),V="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function q(e,t){return[].concat(babelHelpers.toConsumableArray(function(e){var t={};[["ArrowDown","EXIT_LAST_BLOCK"],["ArrowDown","ARROW_DOWN_NEAR_IMAGE"],["ArrowLeft","ARROW_LEFT_NEAR_IMAGE"],["ArrowRight","ARROW_RIGHT_NEAR_IMAGE"],["ArrowUp","EXIT_FIRST_BLOCK"],["ArrowUp","ARROW_UP_NEAR_IMAGE"],["Ctrl-b","TOGGLE_STRONG"],["Ctrl-i","TOGGLE_EM"],["Ctrl-k","PROMPT_ANCHOR"],["Ctrl-Enter","ADD_HARD_BREAK",V],["Ctrl-Space","ADD_NON_BREAKING_SPACE"],["Enter","EXIT_FIGURE"],["Enter","SPLIT_LIST_ITEM"],["Mod-[","LIFT_LIST_ITEM"],["Mod-]","SINK_LIST_ITEM"],["Mod-b","TOGGLE_STRONG"],["Mod-i","TOGGLE_EM"],["Mod-k","PROMPT_ANCHOR"],["Mod-y","REDO",!V],["Mod-z","UNDO"],["Shift-Ctrl-.","TOGGLE_BLOCKQUOTE"],["Shift-Ctrl-0","SET_PARAGRAPH"],["Shift-Ctrl-".concat(a.e),"TOGGLE_HEADING"],["Shift-Ctrl-7","TOGGLE_ORDERED_LIST"],["Shift-Ctrl-8","TOGGLE_BULLET_LIST"],["Shift-Ctrl-m","UNDO_FORMAT"],["Shift-Enter","ADD_HARD_BREAK"],["Shift-Mod-m","UNDO_FORMAT"],["Shift-Mod-z","REDO"],["Shift-Space","ADD_NON_BREAKING_SPACE"],["Shift-Tab","LIFT_LIST_ITEM"],["Tab","CONVERT_TAB_TO_SPACES"],["Tab","SINK_LIST_ITEM"]].forEach((function(r){var n=babelHelpers.slicedToArray(r,3),o=n[0],i=n[1],a=n[2];i in e&&(void 0===a||a)&&(o in t||(t[o]=[]),t[o].push(e[i]))}));var r={};return Object.entries(t).forEach((function(e){var t=babelHelpers.slicedToArray(e,2),n=t[0],o=t[1];1===o.length?r[n]=o[0]:o.length>1&&(r[n]=k.chainCommands.apply(void 0,babelHelpers.toConsumableArray(o)))})),[Object(K.keymap)(r),Object(K.keymap)(k.baseKeymap)]}(t)),[Object(I.history)()])}function X(e){return new o.Schema({marks:J(e),nodes:Q(e)})}function J(e){var t={};return Z(e,a.f,t,{figcaption:{parseDOM:[{tag:"figcaption",context:"figure/"}],toDOM:function(){return["figcaption"]}}}),Z(e,a.a,t,{link:{attrs:{href:{},title:{default:""}},inclusive:!1,parseDOM:[{tag:"a",getAttrs:function(e){var t={href:e.getAttribute("href"),title:e.getAttribute("title")},r={};return Object(c.g)(t.href,{},r,!0),!r.href&&t}}],toDOM:function(e){return["a",ee(babelHelpers.objectSpread({},e.attrs,{target:"_blank",rel:"noopener noreferrer"}))]}}}),Z(e,"TOGGLE_CODE",t,{code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]}}}),Z(e,"TOGGLE_STRONG",t,{strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)}}],toDOM:function(){return["strong"]}}}),Z(e,"TOGGLE_EM",t,{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em"]}}}),t}function Q(e){var t={doc:{content:"block+"},paragraph:{attrs:{dir:{default:""}},reparseInView:!0,content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full",getAttrs:function(e){return"pre"===(e.style.whiteSpace||"").toLowerCase()&&{dir:T(e)}}},{tag:"p",getAttrs:function(e){return"pre"!==(e.style.whiteSpace||"").toLowerCase()&&{dir:T(e)}}},{tag:"br",context:"doc/",getAttrs:function(e){return{dir:T(e)}}}],toDOM:function(e){return["p",ee(e.attrs),0]}},text:{group:"inline"}};return Z(e,"ADD_HARD_BREAK",t,{hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br",ignore:!0,getAttrs:function(e){return!!Y(e)&&{}}},{tag:"br",getAttrs:function(e){return!Y(e)&&{}}}],toDOM:function(){return["br"]}}}),Z(e,a.b,t,{blockquote:{attrs:{dir:{default:""}},reparseInView:!0,content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:function(e){return{dir:T(e)}}}],toDOM:function(e){return["blockquote",ee(e.attrs),0]}},heading:{attrs:{dir:{default:""}},reparseInView:!0,content:"inline*",group:"block",defining:!0,parseDOM:["h1","h2","h3","h4","h5","h6"].map((function(e){return{tag:e,getAttrs:function(e){return{dir:T(e)}}}})),toDOM:function(e){return["h".concat(a.e),ee(e.attrs),0]}}}),Z(e,a.g,t,{ordered_list:{attrs:{order:{default:1},dir:{default:""}},reparseInView:!0,parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,dir:T(e)}}}],toDOM:function(e){return["ol",ee({start:1===e.attrs.order?"":e.attrs.order,dir:e.attrs.dir}),0]},content:"list_item+",group:"block"},bullet_list:{attrs:{dir:{default:""}},reparseInView:!0,parseDOM:[{tag:"ul",getAttrs:function(e){return{dir:T(e)}}}],toDOM:function(e){return["ul",ee(e.attrs),0]},content:"list_item+",group:"block"},list_item:{attrs:{dir:{default:""}},reparseInView:!0,parseDOM:[{tag:"li",getAttrs:function(e){return{dir:T(e)}}}],toDOM:function(e){return["li",ee(e.attrs),0]},defining:!0,content:"block+"}}),Z(e,a.f,t,{figure:{attrs:{dir:{default:""}},reparseInView:!0,content:"inline*",group:"block",parseDOM:[{tag:"figure",getAttrs:function(e){return 1===e.querySelectorAll("img").length&&{dir:T(e)}}}],toDOM:function(e){return["figure",ee(e.attrs),0]}},image:{inline:!0,attrs:{src:{},width:{default:""},height:{default:""},alt:{default:""}},draggable:!1,group:"inline",parseDOM:[{tag:"img",getAttrs:function(e){var t={src:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height"),alt:e.getAttribute("alt")||e.getAttribute("title")};return!!t.src&&t}}],toDOM:function(e){return["img",ee(babelHelpers.objectSpread({},e.attrs,{title:e.attrs.alt}))]}}}),Z(e,"TOGGLE_CODE",t,{code_block:{attrs:{dir:{default:""}},reparseInView:!0,content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){return{dir:T(e)}}}],toDOM:function(e){return["pre",ee(babelHelpers.objectSpread({},e.attrs,{class:"prettyprint linenums"})),0]}}}),t}function Z(e,t,r){if(Object(c.c)(e,t)){for(var n=arguments.length,o=new Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];Object.assign.apply(Object,[r].concat(o))}}function Y(e){var t=e.parentNode;return!(!t||!t.tagName||"p"!==t.tagName.toLowerCase()||1!==t.childNodes.length)}function ee(e){return Object.keys(e).forEach((function(t){""===e[t]&&delete e[t]})),e}r.d(t,"EditorState",(function(){return i.EditorState})),r.d(t,"EditorView",(function(){return M.EditorView})),r.d(t,"buildCommands",(function(){return R})),r.d(t,"buildPlugins",(function(){return q})),r.d(t,"buildSchema",(function(){return X})),r.d(t,"helpers",(function(){return n}))}}]);